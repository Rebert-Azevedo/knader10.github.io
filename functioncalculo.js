function trunc(n){const t=Math.round(n*1e3),i=t%10;return i===9?(Math.floor(t/10)+1)/100:Math.floor(t/10)/100}function irrf_trunc(n){const t=Math.floor(n*100);return t/100}function calculateSalarioLiquido(){let n=parseFloat(document.getElementById("salario_bruto").value.replace(",","."));if(isNaN(n)){alert("Insira um valor para efetuar o c√°lculo.");return}let t=0,r="";n<=1412?(t=trunc(n*.075),r="7,5%"):n<=2666.68?(t=trunc(1412*.075)+trunc((n-1412.01)*.09),r="9%"):n<=4000.03?(t=trunc(1412*.075)+trunc((2666.68-1412.01)*.09)+trunc((n-2666.69)*.12),r="12%"):n<=7786.02?(t=trunc(1412*.075)+trunc((2666.68-1412.01)*.09)+trunc((4000.03-2666.69)*.12)+trunc((n-4000.04)*.14),r="14%"):(t=908.85,r="14%");let s=trunc(t),h=parseInt(document.getElementById("qtdedependentes").value),c=0;h>0&&(c=irrf_trunc(h*189.59));let v=irrf_trunc(s+c),l=v;baseIRRF=l<=564.8?irrf_trunc(n-564.8):irrf_trunc(n-l);let i=baseIRRF,e=0,u=0,f=0;i<=2112?(f="%",u="0"):i<=2826.65?(f="7,5%",e=.075,u=169.44):i<=3751.05?(f="15%",e=.15,u=381.44):i<=4664.68?(f="22,5%",e=.225,u=662.77):i>=4664.69&&(f="27,5%",e=.275,u=896);let o=irrf_trunc(i*e*100/100)-u,a=trunc(n-(o+s)),y=a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),p=t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),w=o.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});document.getElementById("previdencia_desconto").textContent=t.toFixed(2);document.getElementById("aliquota_previdencia").textContent=r;document.getElementById("salario_liquido").textContent=a.toFixed(2);document.getElementById("previdencia_desconto").textContent=p;document.getElementById("salario_liquido").textContent=y;document.getElementById("irrf_desc").textContent=o.toFixed(2);document.getElementById("irrf_desc").textContent=w;document.getElementById("aliquota_irrf").textContent=f;document.getElementById("base_calculo").textContent=i}function handleKeyPress(n){n.keyCode===13&&(n.preventDefault(),calculateSalarioLiquido())}function limparFormulario(){document.getElementById("salario_bruto").value="";document.getElementById("qtdedependentes").value="";document.getElementById("previdencia_desconto").textContent="0,00";document.getElementById("aliquota_previdencia").textContent="%";document.getElementById("salario_liquido").textContent="0,00";document.getElementById("irrf_desc").textContent="0,00";document.getElementById("aliquota_irrf").textContent="%";document.getElementById("base_irrf_span").textContent=""}
